{"ast":null,"code":"import _classCallCheck from\"/Users/jonas/Documents/react_markdowner/react-markdowner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jonas/Documents/react_markdowner/react-markdowner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jonas/Documents/react_markdowner/react-markdowner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jonas/Documents/react_markdowner/react-markdowner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/jonas/Documents/react_markdowner/react-markdowner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/jonas/Documents/react_markdowner/react-markdowner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import logo from\"./logo.svg\";import\"./App.css\";import MarkdownRenderer from\"react-markdown-renderer\";import{ThemeProvider}from\"emotion-theming\";import theme from\"@rebass/preset\";import{Flex,Box,Text,Button}from\"rebass\";import socketIOClient from\"socket.io-client\";import Pdf from\"react-to-pdf\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);//const [markdown, setMarkdown] = React.useState(\"\");\nfunction App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.handleMarkdownChange=function(event){_this.setState({markdown:event.target.value},function(){//console.log(JSON.stringify({\"message\": this.state.markdown}));\n_this.ws.send(JSON.stringify({message:_this.state.markdown}));});};_this.ws=new WebSocket(\"ws://192.168.1.13:8765/\");_this.state={markdown:\"\"};_this.handleMarkdownChange=_this.handleMarkdownChange.bind(_assertThisInitialized(_this));_this.expRef=React.createRef();return _this;}_createClass(App,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;this.ws.onopen=function(evt){// on connecting, do nothing but log it to the console\nconsole.log(\"connected\");//console.log(evt)\n//this.setState({markdown: evt.data.value})\n};this.ws.onmessage=function(evt){// listen to data sent from the websocket server\n//const message = JSON.parse(evt.data)\nconsole.log(JSON.parse(evt.data)[\"value\"]);var message=JSON.parse(evt.data)[\"value\"];_this2.setState({markdown:message});};this.ws.onclose=function(){console.log(\"disconnected\");// automatically try to reconnect on connection loss\n};}},{key:\"render\",value:function render(){return React.createElement(\"div\",{id:\"root\",style:{display:\"flex\",width:\"100%\",height:\"100%\"}},React.createElement(ThemeProvider,{theme:theme},React.createElement(Flex,{flexDirection:\"column\"},React.createElement(Flex,{flexShrink:1},React.createElement(Box,{px:2,py:1,width:1/2},React.createElement(Text,{fontSize:[3,4,5],fontWeight:\"bold\",color:\"primary\"},\"Simple markdown preview app\"),React.createElement(Text,{fontSize:[3,4,5],fontWeight:\"bold\",color:\"black\"},\"Simple markdown preview app\")),React.createElement(Box,{px:2,py:1,width:1/2})),React.createElement(Flex,{flexGrow:1},React.createElement(Box,{p:3,width:1/2,color:\"white\",bg:\"primary\",flexGrow:1},React.createElement(\"textarea\",{autoFocus:true,value:this.state.markdown,onChange:this.handleMarkdownChange,style:{fontFamily:\"Helvetica\",color:\"white\",border:\"none\",width:\"100%\",height:\"100%\",backgroundColor:\"transparent\",outline:\"none\",resize:\"none\"}})),React.createElement(Flex,{p:3,width:1/2,color:\"black\",bg:\"muted\",flexDirection:\"column\",justifyContent:\"space-between\",alignItems:\"center\",flexGrow:1},React.createElement(Box,{px:2,py:1,width:1,flexGrow:1,ref:this.expRef},React.createElement(MarkdownRenderer,{markdown:this.state.markdown})),React.createElement(Flex,{px:2,py:1,width:1,flexShrink:1,justifyContent:\"space-around\"},React.createElement(Pdf,{targetRef:this.expRef,filename:\"code-example.pdf\"},function(_ref){var toPdf=_ref.toPdf;return React.createElement(Button,{onClick:toPdf,sx:{transition:\"0.4s\",\":hover\":{backgroundColor:\"tomato\",transition:\"0.2s\"}}},\"Download as PDF\");}),React.createElement(Button,{onClick:function onClick(){return console.log(\"log this bitch!\");},sx:{transition:\"0.4s\",\":hover\":{backgroundColor:\"tomato\",transition:\"0.2s\"}}},\"Download as TXT\")))))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/jonas/Documents/react_markdowner/react-markdowner/src/App.js"],"names":["React","MarkdownRenderer","ThemeProvider","theme","Flex","Box","Text","Button","socketIOClient","Pdf","App","props","handleMarkdownChange","event","setState","markdown","target","value","ws","send","JSON","stringify","message","state","WebSocket","bind","expRef","createRef","onopen","evt","console","log","onmessage","parse","data","onclose","display","width","height","fontFamily","color","border","backgroundColor","outline","resize","toPdf","transition","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport MarkdownRenderer from \"react-markdown-renderer\";\nimport { ThemeProvider } from \"emotion-theming\";\nimport theme from \"@rebass/preset\";\nimport { Flex, Box, Text, Button } from \"rebass\";\nimport socketIOClient from \"socket.io-client\";\nimport Pdf from \"react-to-pdf\";\n\nclass App extends React.Component {\n  //const [markdown, setMarkdown] = React.useState(\"\");\n  constructor(props) {\n    super(props);\n    this.state = {\n      markdown: \"\"\n    };\n    this.handleMarkdownChange = this.handleMarkdownChange.bind(this);\n    this.expRef = React.createRef();\n  }\n\n  handleMarkdownChange = event => {\n    this.setState({ markdown: event.target.value }, () => {\n      //console.log(JSON.stringify({\"message\": this.state.markdown}));\n      this.ws.send(JSON.stringify({ message: this.state.markdown }));\n    });\n  };\n\n  ws = new WebSocket(\"ws://192.168.1.13:8765/\");\n\n  componentWillMount() {\n    this.ws.onopen = evt => {\n      // on connecting, do nothing but log it to the console\n      console.log(\"connected\");\n      //console.log(evt)\n      //this.setState({markdown: evt.data.value})\n    };\n\n    this.ws.onmessage = evt => {\n      // listen to data sent from the websocket server\n      //const message = JSON.parse(evt.data)\n      console.log(JSON.parse(evt.data)[\"value\"]);\n      const message = JSON.parse(evt.data)[\"value\"];\n      this.setState({ markdown: message });\n    };\n\n    this.ws.onclose = () => {\n      console.log(\"disconnected\");\n      // automatically try to reconnect on connection loss\n    };\n  }\n\n  render() {\n    return (\n      <div id=\"root\" style={{ display: \"flex\", width: \"100%\", height: \"100%\" }}>\n        <ThemeProvider theme={theme}>\n          <Flex flexDirection={\"column\"}>\n            <Flex flexShrink={1}>\n              <Box px={2} py={1} width={1 / 2}>\n                <Text fontSize={[3, 4, 5]} fontWeight=\"bold\" color=\"primary\">\n                  Simple markdown preview app\n                </Text>\n                <Text fontSize={[3, 4, 5]} fontWeight=\"bold\" color=\"black\">\n                  Simple markdown preview app\n                </Text>\n              </Box>\n              <Box px={2} py={1} width={1 / 2}></Box>\n            </Flex>\n            <Flex flexGrow={1}>\n              <Box p={3} width={1 / 2} color=\"white\" bg=\"primary\" flexGrow={1}>\n                <textarea\n                  autoFocus\n                  value={this.state.markdown}\n                  onChange={this.handleMarkdownChange}\n                  style={{\n                    fontFamily: \"Helvetica\",\n                    color: \"white\",\n                    border: \"none\",\n                    width: \"100%\",\n                    height: \"100%\",\n                    backgroundColor: \"transparent\",\n                    outline: \"none\",\n                    resize: \"none\"\n                  }}\n                ></textarea>\n              </Box>\n              <Flex\n                p={3}\n                width={1 / 2}\n                color=\"black\"\n                bg=\"muted\"\n                flexDirection={\"column\"}\n                justifyContent={\"space-between\"}\n                alignItems={\"center\"}\n                flexGrow={1}\n              >\n                <Box px={2} py={1} width={1} flexGrow={1} ref={this.expRef}>\n                  <MarkdownRenderer markdown={this.state.markdown} />\n                </Box>\n                <Flex\n                  px={2}\n                  py={1}\n                  width={1}\n                  flexShrink={1}\n                  justifyContent={\"space-around\"}\n                >\n                  <Pdf targetRef={this.expRef} filename=\"code-example.pdf\">\n                    {({ toPdf }) => (\n                      <Button\n                        onClick={toPdf}\n                        sx={{\n                          transition: \"0.4s\",\n                          \":hover\": {\n                            backgroundColor: \"tomato\",\n                            transition: \"0.2s\"\n                          }\n                        }}\n                      >\n                        Download as PDF\n                      </Button>\n                    )}\n                  </Pdf>\n                  <Button\n                    onClick={() => console.log(\"log this bitch!\")}\n                    sx={{\n                      transition: \"0.4s\",\n                      \":hover\": {\n                        backgroundColor: \"tomato\",\n                        transition: \"0.2s\"\n                      }\n                    }}\n                  >\n                    Download as TXT\n                  </Button>\n                </Flex>\n              </Flex>\n            </Flex>\n          </Flex>\n        </ThemeProvider>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}