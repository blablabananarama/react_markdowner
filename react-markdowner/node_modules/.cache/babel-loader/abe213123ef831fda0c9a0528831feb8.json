{"ast":null,"code":"import _classCallCheck from\"/Users/jonas/Documents/react_markdowner/react-markdowner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jonas/Documents/react_markdowner/react-markdowner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jonas/Documents/react_markdowner/react-markdowner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jonas/Documents/react_markdowner/react-markdowner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/jonas/Documents/react_markdowner/react-markdowner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/jonas/Documents/react_markdowner/react-markdowner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import logo from\"./logo.svg\";import\"./App.css\";import MarkdownRenderer from\"react-markdown-renderer\";import{ThemeProvider}from\"emotion-theming\";import theme from\"@rebass/preset\";import{Flex,Box}from\"rebass\";import socketIOClient from\"socket.io-client\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);//const [markdown, setMarkdown] = React.useState(\"\");\nfunction App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.handleMarkdownChange=function(event){_this.setState({markdown:event.target.value},function(){//console.log(JSON.stringify({\"message\": this.state.markdown}));\n_this.ws.send(JSON.stringify({\"message\":_this.state.markdown}));});};_this.ws=new WebSocket('ws://localhost:8765/');_this.state={markdown:\"\"};_this.handleMarkdownChange=_this.handleMarkdownChange.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;this.ws.onopen=function(evt){// on connecting, do nothing but log it to the console\nconsole.log('connected');//console.log(evt)\n//this.setState({markdown: evt.data.value})\n};this.ws.onmessage=function(evt){// listen to data sent from the websocket server\n//const message = JSON.parse(evt.data)\nconsole.log(JSON.parse(evt.data)[\"value\"]);var message=JSON.parse(evt.data)[\"value\"];_this2.setState({markdown:message});};this.ws.onclose=function(){console.log('disconnected');// automatically try to reconnect on connection loss\n};}},{key:\"render\",value:function render(){return React.createElement(\"div\",{id:\"root\",style:{display:\"flex\",width:\"100%\",height:\"100%\"}},React.createElement(ThemeProvider,{theme:theme},React.createElement(Flex,{flexDirection:\"column\"},React.createElement(Box,{p:3,width:1/2,color:\"white\",bg:\"primary\",flexGrow:1},React.createElement(\"textarea\",{value:this.state.markdown,onChange:this.handleMarkdownChange,style:{fontFamily:\"Helvetica\",color:\"white\",border:\"none\",width:\"100%\",height:\"100%\",backgroundColor:\"transparent\",outline:\"none\",resize:\"none\"}})),React.createElement(Box,{p:3,width:1/2,color:\"white\",bg:\"primary\",flexGrow:1},React.createElement(MarkdownRenderer,{markdown:this.state.markdown})))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/jonas/Documents/react_markdowner/react-markdowner/src/App.js"],"names":["React","MarkdownRenderer","ThemeProvider","theme","Flex","Box","socketIOClient","App","props","handleMarkdownChange","event","setState","markdown","target","value","ws","send","JSON","stringify","state","WebSocket","bind","onopen","evt","console","log","onmessage","parse","data","message","onclose","display","width","height","fontFamily","color","border","backgroundColor","outline","resize","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport MarkdownRenderer from \"react-markdown-renderer\";\nimport { ThemeProvider } from \"emotion-theming\";\nimport theme from \"@rebass/preset\";\nimport { Flex, Box } from \"rebass\";\nimport socketIOClient from \"socket.io-client\";\n\nclass App extends React.Component {\n  //const [markdown, setMarkdown] = React.useState(\"\");\n  constructor(props) {\n    super(props);\n    this.state = {\n      markdown: \"\"\n    }\n    this.handleMarkdownChange = this.handleMarkdownChange.bind(this);\n  }\n\n  handleMarkdownChange = event => {\n    this.setState({ markdown: event.target.value }, () => {\n      //console.log(JSON.stringify({\"message\": this.state.markdown}));\n      this.ws.send(JSON.stringify({\"message\": this.state.markdown}))\n    });\n  };\n  \n  ws = new WebSocket('ws://localhost:8765/')\n\n  componentWillMount() {\n      this.ws.onopen = evt => {\n      // on connecting, do nothing but log it to the console\n      console.log('connected')\n      //console.log(evt)\n      //this.setState({markdown: evt.data.value})\n      }\n\n      this.ws.onmessage = evt => {\n      // listen to data sent from the websocket server\n      //const message = JSON.parse(evt.data)\n      console.log(JSON.parse(evt.data)[\"value\"])\n      const message = JSON.parse(evt.data)[\"value\"] \n      this.setState({markdown: message })\n      }\n\n      this.ws.onclose = () => {\n      console.log('disconnected')\n      // automatically try to reconnect on connection loss\n      }\n  };\n  \n        \n  render() {\n    return (\n      <div id=\"root\" style={{ display: \"flex\", width: \"100%\", height: \"100%\" }}>\n        <ThemeProvider theme={theme}>\n          <Flex flexDirection={\"column\"}>\n            <Box p={3} width={1 / 2} color=\"white\" bg=\"primary\" flexGrow={1}>\n              <textarea\n                value={this.state.markdown}\n                onChange={this.handleMarkdownChange}\n                style={{\n                  fontFamily: \"Helvetica\",\n                  color: \"white\",\n                  border: \"none\",\n                  width: \"100%\",\n                  height: \"100%\",\n                  backgroundColor: \"transparent\",\n                  outline: \"none\",\n                  resize: \"none\"\n                }}\n              ></textarea>\n            </Box>\n            <Box p={3} width={1 / 2} color=\"white\" bg=\"primary\" flexGrow={1}>\n              <MarkdownRenderer markdown={this.state.markdown} />\n            </Box>\n          </Flex>\n        </ThemeProvider>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}