{"ast":null,"code":"var _jsxFileName = \"/Users/jonas/Documents/react_markdowner/react-markdowner/src/App.js\";\nimport React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport MarkdownRenderer from \"react-markdown-renderer\";\nimport { ThemeProvider } from \"emotion-theming\";\nimport theme from \"@rebass/preset\";\nimport { Flex, Box } from \"rebass\";\nimport socketIOClient from \"socket.io-client\";\n\nclass App extends React.Component {\n  //const [markdown, setMarkdown] = React.useState(\"\");\n  constructor(props) {\n    super(props);\n\n    this.handleMarkdownChange = event => {\n      this.setState({\n        markdown: event.target.value\n      }, () => {\n        //console.log(JSON.stringify({\"message\": this.state.markdown}));\n        this.ws.send(JSON.stringify({\n          \"message\": this.state.markdown\n        }));\n      });\n    };\n\n    this.ws = new WebSocket('ws://192.168.1.13:8765/');\n    this.state = {\n      markdown: \"\"\n    };\n    this.handleMarkdownChange = this.handleMarkdownChange.bind(this);\n  }\n\n  componentWillMount() {\n    this.ws.onopen = evt => {\n      // on connecting, do nothing but log it to the console\n      console.log('connected'); //console.log(evt)\n      //this.setState({markdown: evt.data.value})\n    };\n\n    this.ws.onmessage = evt => {\n      // listen to data sent from the websocket server\n      //const message = JSON.parse(evt.data)\n      console.log(JSON.parse(evt.data)[\"value\"]);\n      const message = JSON.parse(evt.data)[\"value\"];\n      this.setState({\n        markdown: message\n      });\n    };\n\n    this.ws.onclose = () => {\n      console.log('disconnected'); // automatically try to reconnect on connection loss\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"root\",\n      style: {\n        display: \"flex\",\n        width: \"100%\",\n        height: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(ThemeProvider, {\n      theme: theme,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Flex, {\n      flexDirection: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Box, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(Box, {\n      flexGrow: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(Flex, {\n      flexDirection: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(Box, {\n      p: 3,\n      width: 1 / 2,\n      color: \"white\",\n      bg: \"primary\",\n      flexGrow: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      autoFocus: true,\n      value: this.state.markdown,\n      onChange: this.handleMarkdownChange,\n      style: {\n        fontFamily: \"Helvetica\",\n        color: \"white\",\n        border: \"none\",\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: \"transparent\",\n        outline: \"none\",\n        resize: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })), React.createElement(Box, {\n      p: 3,\n      width: 1 / 2,\n      color: \"black\",\n      bg: \"muted\",\n      flexGrow: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(MarkdownRenderer, {\n      markdown: this.state.markdown,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/jonas/Documents/react_markdowner/react-markdowner/src/App.js"],"names":["React","MarkdownRenderer","ThemeProvider","theme","Flex","Box","socketIOClient","App","Component","constructor","props","handleMarkdownChange","event","setState","markdown","target","value","ws","send","JSON","stringify","state","WebSocket","bind","componentWillMount","onopen","evt","console","log","onmessage","parse","data","message","onclose","render","display","width","height","fontFamily","color","border","backgroundColor","outline","resize"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,OAAO,WAAP;AACA,OAAOC,gBAAP,MAA6B,yBAA7B;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,SAASC,IAAT,EAAeC,GAAf,QAA0B,QAA1B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;AAEA,MAAMC,GAAN,SAAkBP,KAAK,CAACQ,SAAxB,CAAkC;AAChC;AACAC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAQnBC,oBARmB,GAQIC,KAAK,IAAI;AAC9B,WAAKC,QAAL,CAAc;AAAEC,QAAAA,QAAQ,EAAEF,KAAK,CAACG,MAAN,CAAaC;AAAzB,OAAd,EAAgD,MAAM;AACpD;AACA,aAAKC,EAAL,CAAQC,IAAR,CAAaC,IAAI,CAACC,SAAL,CAAe;AAAC,qBAAW,KAAKC,KAAL,CAAWP;AAAvB,SAAf,CAAb;AACD,OAHD;AAID,KAbkB;;AAAA,SAenBG,EAfmB,GAed,IAAIK,SAAJ,CAAc,yBAAd,CAfc;AAEjB,SAAKD,KAAL,GAAa;AACXP,MAAAA,QAAQ,EAAE;AADC,KAAb;AAGA,SAAKH,oBAAL,GAA4B,KAAKA,oBAAL,CAA0BY,IAA1B,CAA+B,IAA/B,CAA5B;AACD;;AAWDC,EAAAA,kBAAkB,GAAG;AACjB,SAAKP,EAAL,CAAQQ,MAAR,GAAiBC,GAAG,IAAI;AACxB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAFwB,CAGxB;AACA;AACC,KALD;;AAOA,SAAKX,EAAL,CAAQY,SAAR,GAAoBH,GAAG,IAAI;AAC3B;AACA;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYT,IAAI,CAACW,KAAL,CAAWJ,GAAG,CAACK,IAAf,EAAqB,OAArB,CAAZ;AACA,YAAMC,OAAO,GAAGb,IAAI,CAACW,KAAL,CAAWJ,GAAG,CAACK,IAAf,EAAqB,OAArB,CAAhB;AACA,WAAKlB,QAAL,CAAc;AAACC,QAAAA,QAAQ,EAAEkB;AAAX,OAAd;AACC,KAND;;AAQA,SAAKf,EAAL,CAAQgB,OAAR,GAAkB,MAAM;AACxBN,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EADwB,CAExB;AACC,KAHD;AAIH;;AAGDM,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,EAAE,EAAC,MAAR;AAAe,MAAA,KAAK,EAAE;AAAEC,QAAAA,OAAO,EAAE,MAAX;AAAmBC,QAAAA,KAAK,EAAE,MAA1B;AAAkCC,QAAAA,MAAM,EAAE;AAA1C,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,aAAD;AAAe,MAAA,KAAK,EAAElC,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,aAAa,EAAE,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,GAAD;AAAK,MAAA,QAAQ,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACF,oBAAC,IAAD;AAAM,MAAA,aAAa,EAAE,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,CAAC,EAAE,CAAR;AAAW,MAAA,KAAK,EAAE,IAAI,CAAtB;AAAyB,MAAA,KAAK,EAAC,OAA/B;AAAuC,MAAA,EAAE,EAAC,SAA1C;AAAoD,MAAA,QAAQ,EAAE,CAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,SAAS,MADX;AAEE,MAAA,KAAK,EAAE,KAAKkB,KAAL,CAAWP,QAFpB;AAGE,MAAA,QAAQ,EAAE,KAAKH,oBAHjB;AAIE,MAAA,KAAK,EAAE;AACL2B,QAAAA,UAAU,EAAE,WADP;AAELC,QAAAA,KAAK,EAAE,OAFF;AAGLC,QAAAA,MAAM,EAAE,MAHH;AAILJ,QAAAA,KAAK,EAAE,MAJF;AAKLC,QAAAA,MAAM,EAAE,MALH;AAMLI,QAAAA,eAAe,EAAE,aANZ;AAOLC,QAAAA,OAAO,EAAE,MAPJ;AAQLC,QAAAA,MAAM,EAAE;AARH,OAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAkBE,oBAAC,GAAD;AAAK,MAAA,CAAC,EAAE,CAAR;AAAW,MAAA,KAAK,EAAE,IAAI,CAAtB;AAAyB,MAAA,KAAK,EAAC,OAA/B;AAAuC,MAAA,EAAE,EAAC,OAA1C;AAAkD,MAAA,QAAQ,EAAE,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,gBAAD;AAAkB,MAAA,QAAQ,EAAE,KAAKtB,KAAL,CAAWP,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAlBF,CADE,CAFF,CADF,CADF,CADF;AAiCD;;AA5E+B;;AA+ElC,eAAeP,GAAf","sourcesContent":["import React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport MarkdownRenderer from \"react-markdown-renderer\";\nimport { ThemeProvider } from \"emotion-theming\";\nimport theme from \"@rebass/preset\";\nimport { Flex, Box } from \"rebass\";\nimport socketIOClient from \"socket.io-client\";\n\nclass App extends React.Component {\n  //const [markdown, setMarkdown] = React.useState(\"\");\n  constructor(props) {\n    super(props);\n    this.state = {\n      markdown: \"\"\n    }\n    this.handleMarkdownChange = this.handleMarkdownChange.bind(this);\n  }\n\n  handleMarkdownChange = event => {\n    this.setState({ markdown: event.target.value }, () => {\n      //console.log(JSON.stringify({\"message\": this.state.markdown}));\n      this.ws.send(JSON.stringify({\"message\": this.state.markdown}))\n    });\n  };\n  \n  ws = new WebSocket('ws://192.168.1.13:8765/')\n\n  componentWillMount() {\n      this.ws.onopen = evt => {\n      // on connecting, do nothing but log it to the console\n      console.log('connected')\n      //console.log(evt)\n      //this.setState({markdown: evt.data.value})\n      }\n\n      this.ws.onmessage = evt => {\n      // listen to data sent from the websocket server\n      //const message = JSON.parse(evt.data)\n      console.log(JSON.parse(evt.data)[\"value\"])\n      const message = JSON.parse(evt.data)[\"value\"] \n      this.setState({markdown: message })\n      }\n\n      this.ws.onclose = () => {\n      console.log('disconnected')\n      // automatically try to reconnect on connection loss\n      }\n  };\n  \n        \n  render() {\n    return (\n      <div id=\"root\" style={{ display: \"flex\", width: \"100%\", height: \"100%\" }}>\n        <ThemeProvider theme={theme}>\n          <Flex flexDirection={\"column\"}>\n            <Box></Box>\n            <Box flexGrow>\n          <Flex flexDirection={\"row\"}>\n            <Box p={3} width={1 / 2} color=\"white\" bg=\"primary\" flexGrow={1}>\n              <textarea\n                autoFocus\n                value={this.state.markdown}\n                onChange={this.handleMarkdownChange}\n                style={{\n                  fontFamily: \"Helvetica\",\n                  color: \"white\",\n                  border: \"none\",\n                  width: \"100%\",\n                  height: \"100%\",\n                  backgroundColor: \"transparent\",\n                  outline: \"none\",\n                  resize: \"none\"\n                }}\n              ></textarea>\n            </Box>\n            <Box p={3} width={1 / 2} color=\"black\" bg=\"muted\" flexGrow={1}>\n              <MarkdownRenderer markdown={this.state.markdown} />\n            </Box>\n          </Flex>\n          </Box>\n          </Flex>\n        </ThemeProvider>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}